---
import BaseLayout from "../../layouts/BaseLayout.astro";
import EntryGrid from "../../components/EntryGrid.astro";
import { getCollection } from "astro:content";

const entries = (await getCollection("entries"))
  .filter(e => !e.data.draft && e.data.type === "project")
  .sort((a,b) => (b.data.curated ? 1 : 0) - (a.data.curated ? 1 : 0) || b.data.date.valueOf() - a.data.date.valueOf());
---

<BaseLayout title="Projects">
  <EntryGrid title="Projects" description="Inventions, builds, and practical prototypes." entries={entries} />
</BaseLayout>
